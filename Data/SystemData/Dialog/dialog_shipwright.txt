




-------------------------------------SHIPWRIGHT





[DialogNode] ID=shipwright;
animations=;
statements=<randSetID=Need something?/What d'ya need?/Ay mate.>;
[DialogOption] text=Repairs (<math=m:fleetRepairsNeeded>damage);
formulaReq=m:fleetRepairsCost;
nodeToConnectTo=shipwright_repair;
[DialogOption] text=<color=SlateGray>Repairs;
formulaReq=1-m:fleetRepairsCost;
nodeToConnectTo=shipwright_repair_cant;
[DialogOption] text=New Ship;
newLineOfOptions=true;
formulaReq=1-m:fleetSize(8);
nodeToConnectTo=shipwright_newShip;
specialEffect=setupBuyShipDialog,shipwright_newShip;
[DialogOption] text=<color=SlateGray>New Ship;
newLineOfOptions=true;
formulaReq=m:fleetSize(8);
nodeToConnectTo=shipwright_newShip_fleetFull;
[DialogOption] text=Sell Ship;
newLineOfOptions=true;
nodeToConnectTo=shipwright_sellShip;
[DialogOption] text=Goodbye;
nodeToConnectTo=;
bottomOption=true;


[DialogNode] ID=shipwright_repair;
animations=;
statements=Looks like about <color=DarkRed>$<math=m:fleetRepairsCostBase><adjX=-6><color=> worth of damage. <finalTextIf=How about it?=m:fleetRepairsCost - m:fleetRepairsCostBase + 1>But for <pnamefull=>...<p> <randSetID=I can do/I'll fix it for/repairs'll run/I'll do it for> <color=DarkRed>$<math=m:fleetRepairsCost><adjX=-6><color=>. <randSetID=Sound good?/Agreed?/What d'ya think?/Alright?>;
[DialogOption] text=Yes;
formulaReq=m:money - m:fleetRepairsCost + 1;
nodeToConnectTo=shipwright_repair_buy;
[DialogOption] text=<color=SlateGray>I can't afford that...;
formulaReq=m:fleetRepairsCost - m:money;
nodeToConnectTo=shipwright;
[DialogOption] text=No;
formulaReq=m:money - m:fleetRepairsCost + 1;
nodeToConnectTo=shipwright;
[DialogOption] text=Goodbye;
nodeToConnectTo=;
bottomOption=true;


[DialogNode] ID=shipwright_repair_buy;
animations=;
statements=There you go, all fixed up.;
specialEffect=repairFleet_pay;
specialEffect=fx,sfx_goodConfirm_fast;
nextNodeID=shipwright;


[DialogNode] ID=shipwright_repair_cant;
animations=sly;
statements=There's nothin' to fix - your fleet is already shipshape!;
nextNodeID=shipwright;

--------------------NEWSHIP

[DialogNode] ID=shipwright_newShip;
animations=;
statements=We've got these types of ships on offer.<color=DarkRed><n><textIf=Click for more details.=1 - g:shipsBought>;
specialEffect=setNPCDialogWindowSizeY;
specialEffect=setPCDialogWindowSizeY;
[DialogOption] text=;
formulaReq=;
nodeToConnectTo=;

[DialogNode] ID=shipwright_newShip_fleetFull;
animations=sigh;
statements=You've already got a full fleet, mate.<p=> You'll have to store or sell one first.;
nextNodeID=shipwright;

[DialogNode] ID=shipwright_sellShip;
animations=sigh;
animations=;
statements=To sell a ship, transfer all of your crew off of it. Then a <iconBig=fleetW_sellBtn_hover> sell button will appear on the right.;
statements=Remember, y'can only sell while you're in port!;
nextNodeID=openFleetWindow;

[DialogNode] ID=shipwright_renameShip;
animations=;
statements=Great! What'll you name her?;
specialEffect=setNPCDialogWindowSizeY,90;
specialEffect=setPCDialogWindowSizeY,90;
specialEffect=renameShip;
[DialogOption] text=Done;
nodeToConnectTo=shipwright_buyShip_done;

[DialogNode] ID=shipwright_buyShip_done;
specialEffect=openFleetWindow_delay;
specialEffect=closeCharEdit;
specialEffect=completeJournalGoal,@0.5,* Buy a new ship.;
specialEffect=addJournalGoal,@1,* Hire a party of 5 crew.;
nodeToConnectTo=;





